const translations = {
  "fr": {
    "home": "Accueil.",
    "about": "√Ä propos.",
    "skills": "Comp√©tences.",
    "portfolio": "Portfolio.",
    "contact": "Contact.",

    "yo": "Salut !",
    "presentation": "Je m'appelle Danih Stephane",
    "engineer": "Ing√©nieur",
    "developer": "D√©veloppeur",
    "coder": "Codeur",
    "get_in_touch": "Entrer en contact",

    "years_of_experience": "Ann√©es d'exp√©rience",
    "completed_projects": "Projets termin√©s",
    "happy_clients":"Clients satisfaits",

    "about_me": "√† propos de moi",
    "title_introduction": "Solution d'application innovante ? R√©alisons vos id√©es !",
    "introduction": "Salut üë®‚Äçüíª, je suis Danih St√©phane Rakotoarison Harilanto, d√©veloppeur confirm√© en applications. Passionn√© par les technologies de l'information, j'ai travaill√© sur divers projets, notamment des solutions SaaS et des services cloud. Mon expertise couvre le d√©veloppement full stack et la collaboration avec des √©quipes cr√©atives, visant √† transformer des id√©es en solutions concr√®tes. Que ce soit en solo ou en √©quipe, je mise sur une gestion efficace des projets, l'agilit√© et une communication ouverte pour assurer le succ√®s.",
    "hire_me": "Embauchez-moi",
    "download_cv": "Telecharger CV",

    "my_skills": "Mes comp√©tences",
    "title_skills": "Quels sont les √©ventails de mes comp√©tences techniques en d√©veloppement ?",
    "skills_desc": "Voici les aptitudes techniques et les outils de d√©veloppement qui me permettent de transformer des concepts en applications web fonctionnelles et intuitives, alliant ma√Ætrise des langages de programmation, frameworks modernes et environnements de d√©veloppement optimis√©s",
    "skills_button": "Comp.",
    "tools_button": "App.",

    "my_experiences": "Professionnelles",
    "experience_title": "Plus de 3 ans d'exp√©rience en entreprise avec une forte implication dans des projets personnels",
    "experience_introduction": "J‚Äôai eu l‚Äôopportunit√© de travailler sur divers projets, principalement dans le domaine des solutions SaaS et des services cloud. Au cours de ces exp√©riences, j'ai √©t√© impliqu√© dans plusieurs t√¢ches et responsabilit√©s, allant du d√©veloppement de fonctionnalit√©s sp√©cifiques √† l'optimisation de l'architecture des syst√®mes. Cette immersion m'a permis d'acqu√©rir une solide compr√©hension des d√©fis techniques et des meilleures pratiques associ√©s √† ces environnements dynamiques.",

    "june_2023_present" : "Juin 2023 - Pr√©sent 2024",
    "first_box_title": "Gestion de donn√©es avec ETL",
    "first_box_description": "Extraction : \n Int√©gration de donn√©es vari√©es (CSV, SQL). \n Extraction planifi√©e et r√©guli√®re des donn√©es. \nPr√©traitement pour corriger et normaliser les formats. \n \n Transformation : \n Application de transformations complexes via des pipelines. \n Nettoyage et enrichissement des donn√©es. \n Cr√©ation de nouvelles features √† partir des donn√©es brutes. \n \n Chargement : \n Stockage des donn√©es dans un entrep√¥t central. \n Disponibilit√© des donn√©es pour analyse et visualisation.",
    "techno": "Technologies",

    "june_2022_june_2023": "Juin 2022 - Juin 2023",
    "second_box_title" : "Optimisation d'une SaaS",
    "second_box_description": "Am√©lioration de l'application web de gestion des donn√©es afin d'am√©liorer l'efficacit√© et la pr√©cision de la collecte statistique. Ce projet vise √† int√©grer des fonctionnalit√©s avanc√©es pour faciliter la saisie, le traitement et l'analyse des donn√©es, tout en garantissant une interface utilisateur intuitive et conviviale.",
    "specifications" : "Sp√©cifications",
    "specifications_descriptions": "Gestion de projet pour la collecte : base de donn√©es, interface avec l'√©cosyst√®me client, encaissement des ch√®ques, ciblage marketing, et datavisualisation.",
    
    "feb_2022_mai_2022": "F√©br. 2022 - mai 2022",
    "third_box_title": "R√©vision d'une Interface de Saisie de Donn√©es",
    "third_box_description": "Correction et am√©lioration d'un outil de saisie de donn√©es, int√©grant des validations avanc√©es, la possibilit√© d'importer des fichiers, l'exportation des donn√©es trait√©es, et la gestion des utilisateurs avec des droits d'acc√®s.",
    
    "aug_2021_des_2021": "Ao√ªt 2021 - D√©c 2021",
    "fourth_box_title": "D√©veloppeur Java",
    "fourth_box_description": "Mobile Banking, application android native, am√©liore l'accessibilit√© et la commodit√© des services bancaires, permettant aux utilisateurs de g√©rer leurs finances √† tout moment et de n'importe o√π.",
    "characteristics": "Caract√©ristiques",

    "my_education": "Mes ant√©c√©dents",
    "education_title": "Comment un voyage √©ducatif peut-il mener √† l'excellence en technologie ?",
    "education_description": "Au cours de mon parcours scolaire en d√©veloppement informatique, j'ai eu l'opportunit√© d'obtenir une ma√Ætrise dans l'une des meilleures universit√©s d'Europe, o√π j'ai approfondi mes connaissances th√©oriques et pratiques. Cette exp√©rience m'a permis de renforcer mes comp√©tences en d√©veloppement d'applications, tout en b√©n√©ficiant d'une solide formation en informatique dispens√©e par des universit√©s locales. Parall√®lement, j'ai acquis une base rigoureuse en math√©matiques, essentielle pour la r√©solution de probl√®mes complexes et l'optimisation des algorithmes, me pr√©parant ainsi √† relever les d√©fis techniques du secteur.",
    
    "education_first_box_title": "Universit√© C√¥te d'Azur",
    "education_first_box_description": "Ing√©nierie informatique. Parcours Mobiquit√©, Big Data et int√©gration de Syst√®mes (MBDS)",
    
    "license":"Licence",
   "education_second_box_title": "IT Univesity",
   "education_second_box_descirption": "Technologies de l''information. Sp√©cialis√© dans le d√©veloppement d'applications ou la programmation.",

   "academic":"Acad√©mique",
   "education_third_box_title":"Facult√© des sciences math√©matiques",
   "education_third_box_description": "L'analyse, l'alg√®bre, la g√©om√©trie, la th√©orie des probabilit√©s et des statistiques, la logique, la d√©monstration, ainsi que le calcul vectoriel et matriciel.",
   
   "intensive_courses": "Cours intensifs",

   "languages": "Languages",
   "malagasy": "Malgache (MG)",
   "french": "Fran√ßais (FR)",
   "french_desc": "/ 2√®me native",
   "english": "Anglais (EN)",
   "english_desc": "Comp√©tence professionnelle",
   "german": "Allemand (DE)",
   "german_desc": "D√©butant",

   "my_works": "Mes travaux",
   "my_works_title": "Des solutions innovantes qui d√©fient les attentes : Mes Projets",
   "my_works_introduction": "Conception de sites Web d'exception alliant fonctionnalit√© et esth√©tique, garantissant une utilit√© √† long terme pour les utilisateurs. √âlaboration d'une interface soigneusement con√ßue, claire et bien document√©e, veillant √† la fluidit√© et √† l'intuitivit√© de chaque interaction. Objectif de cr√©ation de solutions √©l√©gantes r√©pondant aux besoins actuels des clients et les pr√©parant pour l'avenir.",
   "load_more_work": "Charger plus de travail",
   "recommandation_title": "Curieux de savoir ce que mes coll√®gues disent de moi ? Voici leurs avis !",
   "recommandation_introduction":"Dans le cadre de ma recherche de nouvelles opportunit√©s professionnelles, je souhaite partager avec vous les recommandations de mes collaborateurs et mentors. Leurs commentaires t√©moignent de mes comp√©tences, de mon √©thique de travail et de ma capacit√© √† collaborer efficacement en √©quipe. Chaque t√©moignage refl√®te une exp√©rience unique, mettant en lumi√®re les qualit√©s qui font de moi un candidat id√©al pour un poste en tant que d√©veloppeur.",
   "recommandation_conclusion": "Vous pouvez ajouter des recommandations sur LinkedIn",
   "contact_title": "Avez-vous une id√©e ou un projet ?  N'h√©sitez pas √† me laisser un message !",
   "contact_desc": "Pour toute assistance, n'h√©sitez pas √† me contacter et √† me faire savoir comment je peux vous aider. Remplissez le formulaire, et je vous r√©pondrai dans les plus brefs d√©lais.",
   "address": "Adresse:",
   "phone": "T√©l√©phone:",
   "phone_form": "T√©l√©phone",
   "name": "Nom",
   "ex_name": "ex. Jules Dupont",
   "ex_email": "ex. jules.dupont@gmail.com",
   "optional": "Num√©ro de t√©l√©phone (Optionelle)",
   "write_a_message": "Ecrire un message",
   "send": "Envoyer",
   
    "proundly":"Con√ßu avec passion, propuls√© par l'innovation"
  },
  "en": {
    "home": "Home.",
    "about": "About.",
    "skills": "Skills.",
    "portfolio": "Portfolio.",
    "contact": "Contact.",

    "yo": "Hello !",
    "presentation": "My name is Danih Stephane",
    "engineer": "Engineer",
    "developer": "Developer",
    "coder": "Coder",
    "get_in_touch": "Get in touch",

    "years_of_experience": "Years of experience",
    "completed_projects": "Completed projects",
    "happy_clients": "Happy clients",

    "about_me": "About me",
    "title_introduction": "Innovative application solution? Let's realize your ideas!",
    "introduction": "Hello üë®‚Äçüíª, I'm Danih St√©phane Rakotoarison Harilanto, a confirmed application developer. Passionate about information technology, I have worked on various projects, including SaaS solutions and cloud services. My expertise covers full stack development and collaboration with creative teams, aiming to transform ideas into concrete solutions. Whether working solo or in a team, I focus on effective project management, agility, and open communication to ensure success.",
    "hire_me": "Hire me",
    "download_cv": "Download CV",

    "my_skills": "My skills",
    "title_skills": "What are the ranges of my technical skills in development?",
    "skills_desc": "Here are the technical abilities and development tools that enable me to transform concepts into functional and intuitive web applications, combining mastery of programming languages, modern frameworks, and optimized development environments.",
    "skills_button": "Skills",
    "tools_button": "Tools",

    "my_experiences": "Professional",
    "experience_title": "Over 3 years of experience in the industry with a strong involvement in personal projects",
    "experience_introduction": "I have had the opportunity to work on various projects, primarily in the field of SaaS solutions and cloud services. During these experiences, I have been involved in several tasks and responsibilities, ranging from developing specific features to optimizing system architecture. This immersion has allowed me to gain a solid understanding of the technical challenges and best practices associated with these dynamic environments.",

    "june_2023_present": "June 2023 - Present 2024",
    "first_box_title": "Data Management with ETL",
    "first_box_description": "Extraction: \n Integration of various data (CSV, SQL). \n Scheduled and regular data extraction. \n Preprocessing to correct and normalize formats. \n \n Transformation: \n Application of complex transformations via pipelines. \n Data cleaning and enrichment. \n Creation of new features from raw data. \n \n Loading: \n Storage of data in a central warehouse. \n Availability of data for analysis and visualization.",
    "techno": "Technologies",

    "june_2022_june_2023": "June 2022 - June 2023",
    "second_box_title": "Optimization of a SaaS",
    "second_box_description": "Improvement of the web application for data management to enhance the efficiency and accuracy of statistical collection. This project aims to integrate advanced features to facilitate data entry, processing, and analysis while ensuring an intuitive and user-friendly interface.",
    "specifications": "Specifications",
    "specifications_descriptions": "Project management for collection: database, interface with the client ecosystem, check processing, marketing targeting, and data visualization.",

    "feb_2022_mai_2022": "Feb 2022 - May 2022",
    "third_box_title": "Revision of a Data Entry Interface",
    "third_box_description": "Correction and improvement of a data entry tool, incorporating advanced validations, the ability to import files, export of processed data, and user management with access rights.",

    "aug_2021_des_2021": "Aug 2021 - Dec 2021",
    "fourth_box_title": "Java Developer",
    "fourth_box_description": "Mobile Banking, native Android application, enhances accessibility and convenience of banking services, allowing users to manage their finances anytime and anywhere.",
    "characteristics": "Characteristics",

    "my_education": "My background",
    "education_title": "How can an educational journey lead to excellence in technology?",
    "education_description": "During my educational journey in computer development, I had the opportunity to earn a master's degree from one of the best universities in Europe, where I deepened my theoretical and practical knowledge. This experience allowed me to strengthen my application development skills while benefiting from a solid computer science education provided by local universities. At the same time, I acquired a rigorous foundation in mathematics, essential for solving complex problems and optimizing algorithms, thus preparing me to tackle the technical challenges of the industry.",

    "education_first_box_title": "University of C√¥te d'Azur",
    "education_first_box_description": "Computer Engineering. Track in Mobility, Big Data, and Systems Integration (MBDS)",

    "license": "License",
    "education_second_box_title": "IT University",
    "education_second_box_descirption": "Bachelor's degree in Information Technology. Specialized in application development or programming.",

    "academic": "Academic",
    "education_third_box_title": "Faculty of Mathematical Sciences",
    "education_third_box_description": "Analysis, Algebra, Geometry, Probability and Statistics, Logic, Proof, as well as Vector and Matrix Calculus.",
    
    "intensive_courses": "Intensive Courses",
    "languages": "Languages",
    "malagasy": "Malagasy (MG)",
    "french": "French (FR)",
    "french_desc": "/ 2nd native",
    "english": "English (EN)",
    "english_desc": "Professional proficiency",
    "german": "German (DE)",
    "german_desc": "Beginner",

    "my_works": "My Works",
    "my_works_title": "Innovative Solutions that Defy Expectations: My Projects",
    "my_works_introduction": "Designing exceptional websites that blend functionality and aesthetics, ensuring long-term usability for users. Developing a carefully crafted, clear, and well-documented interface that ensures smooth and intuitive interactions. The goal is to create elegant solutions that meet current client needs and prepare them for the future.",
    "load_more_work": "Load More Work",
    "recommandation_title": "Curious to know what my colleagues say about me? Here are their thoughts!",
    "recommandation_introduction": "As I seek new professional opportunities, I would like to share with you the recommendations from my colleagues and mentors. Their feedback reflects my skills, work ethic, and ability to collaborate effectively in a team. Each testimonial highlights a unique experience, showcasing the qualities that make me an ideal candidate for a developer position.",
    "recommandation_conclusion": "You can add recommendations on LinkedIn",
    "contact_title": "Do you have an idea or a project? Feel free to leave me a message!",
    "contact_desc": "For any assistance, don't hesitate to contact me and let me know how I can help you. Fill out the form, and I will respond to you as soon as possible.",
    "address": "Address:",
    "phone": "Phone:",
    "phone_form": "Phone",
    "name": "Name",
    "ex_name": "ex. John Doe",
    "ex_email": "ex. john.doe@gmail.com",
    "optional": "Phone Number (Optional)",
    "write_a_message": "Write a Message",
    "send": "Send",
    
    "proundly":"Crafted with Passion, Powered by Innovation"
  }
};

function applyTranslations(lang) {
  const elements = document.querySelectorAll("[data-translate]");
  
  elements.forEach(element => {
    const key = element.getAttribute("data-translate");
    if (translations[lang] && translations[lang][key]) {
      if (element.placeholder !== undefined) {
        // Si c'est un input ou textarea avec un placeholder
        element.placeholder = translations[lang][key];
      } else {
        // Pour tout autre √©l√©ment, on change le texte
        element.innerText = translations[lang][key];
      }
    }
  });
}


// Variable pour stocker la langue actuelle
let currentLanguage = 'fr';

function changeLanguage(lang) {
  applyTranslations(lang);
  changeFlag(lang);
  changeLanguageTyped(lang);
  currentLanguage = lang;
  resetTypedAnimations()
}

function changeFlag(lang) {
  const flagContainer = document.getElementById('flag-container');
  flagContainer.innerHTML = '';  // Vide le conteneur pour ajouter le(s) drapeau(x)

  if (lang === "en") {

    // Ajouter les drapeaux am√©ricain et britannique avec un slash
    const usFlag = document.createElement('img');
    usFlag.src = "./assets/img/Flag_of_the_United_States.svg";
    usFlag.width = 20;

    const slash = document.createElement('span');
    slash.innerText = ' / ';  // Ajouter un slash entre les drapeaux

    const ukFlag = document.createElement('img');
    ukFlag.src = "./assets/img/Flag_of_the_United_Kingdom.svg";
    ukFlag.width = 20;

    flagContainer.appendChild(usFlag);
    flagContainer.appendChild(slash);
    flagContainer.appendChild(ukFlag);
  } else {
    // Ajouter un seul drapeau selon la langue
    const flag = document.createElement('img');
    const flagMap = {
      "fr": "./assets/img/Flag_of_France.svg",
      "mg": "./assets/img/Flag_of_Madagascar.svg",
      "de": "./assets/img/Flag_of_Germany.svg"
    };
    flag.src = flagMap[lang];
    flag.width = 20;

    flagContainer.appendChild(flag);
  }
}


const translationsTyped = {
  "fr": ["Ing√©nieur", "D√©veloppeur", "Codeur"],
  "en": ["Engineer", "Developer", "Coder"],
  "mg": ["Injeniera", "Mpampianatra", "Kodiarana"] // Exemple en malgache
};

let typed; // Variable pour stocker l'instance de Typed.js

// Fonction pour changer la langue
function changeLanguageTyped(lang) {
  // Si une instance de Typed.js existe, la d√©truire
  if (typed) {
      typed.forEach(instance => instance.destroy()); // D√©truire toutes les instances
  }
  
  // R√©cup√©rer tous les √©l√©ments avec la classe "auto-type"
  const elements = document.querySelectorAll(".auto-type");
  typed = []; // R√©initialiser le tableau des instances

  // Initialiser Typed.js pour chaque √©l√©ment
  elements.forEach(element => {
      const typedInstance = new Typed(element, {
          strings: translationsTyped[lang], // Utiliser les cha√Ænes selon la langue
          typeSpeed: 150,
          backSpeed: 150,
          loop: true
      });
      typed.push(typedInstance); // Ajouter l'instance au tableau
  });
}

// D√©finit les traductions
const translationsEducation = {
  en: {
      autoType4: ["Experience"],
      autoType5: ["I have had the opportunity to work on various projects, primarily in the field of SaaS solutions and cloud services. During these experiences, I have been involved in several tasks and responsibilities, ranging from developing specific features to optimizing system architecture. This immersion has allowed me to gain a solid understanding of the technical challenges and best practices associated with these dynamic environments."],
      autoType6: ["Education"],
      autoType7: ["During my educational journey in computer development, I had the opportunity to earn a master's degree from one of the best universities in Europe, where I deepened my theoretical and practical knowledge. This experience allowed me to strengthen my application development skills while benefiting from a solid computer science education provided by local universities. At the same time, I acquired a rigorous foundation in mathematics, essential for solving complex problems and optimizing algorithms, thus preparing me to tackle the technical challenges of the industry."],
  },
  fr: {
      autoType4: ["Exp√©rience"],
      autoType5: ["J‚Äôai eu l‚Äôopportunit√© de travailler sur divers projets, principalement dans le domaine des solutions SaaS et des services cloud. Au cours de ces exp√©riences, j'ai √©t√© impliqu√© dans plusieurs t√¢ches et responsabilit√©s, allant du d√©veloppement de fonctionnalit√©s sp√©cifiques √† l'optimisation de l'architecture des syst√®mes. Cette immersion m'a permis d'acqu√©rir une solide compr√©hension des d√©fis techniques et des meilleures pratiques associ√©s √† ces environnements dynamiques."],
      autoType6: ["√âducation"],
      autoType7: ["Au cours de mon parcours scolaire en d√©veloppement informatique, j'ai eu l'opportunit√© d'obtenir une ma√Ætrise dans l'une des meilleures universit√©s d'Europe, o√π j'ai approfondi mes connaissances th√©oriques et pratiques. Cette exp√©rience m'a permis de renforcer mes comp√©tences en d√©veloppement d'applications, tout en b√©n√©ficiant d'une solide formation en informatique dispens√©e par des universit√©s locales. Parall√®lement, j'ai acquis une base rigoureuse en math√©matiques, essentielle pour la r√©solution de probl√®mes complexes et l'optimisation des algorithmes, me pr√©parant ainsi √† relever les d√©fis techniques du secteur."],
  }
};

function startTyped(element, strings, speed) {
  let typed = new Typed(element, {
      strings: strings,
      typeSpeed: speed,
      backSpeed: speed,
      loop: false,
      showCursor: false
  });
}


// Fonction pour r√©initialiser les animations
function resetTypedAnimations() {
  // Pour chaque cible, on recr√©e l'animation avec le texte traduit
  targets.forEach(target => {
      observer.unobserve(target); // Arr√™te d'observer l'√©l√©ment
      if (target.classList.contains('auto-type4')) {
          startTyped(".auto-type4", translationsEducation[currentLanguage].autoType4, 150);
      } else if (target.classList.contains('auto-type5')) {
          startTyped(".auto-type5", translationsEducation[currentLanguage].autoType5, 1);
      } else if (target.classList.contains('auto-type6')) {
          startTyped(".auto-type6", translationsEducation[currentLanguage].autoType6, 150);
      } else if (target.classList.contains('auto-type7')) {
          startTyped(".auto-type7", translationsEducation[currentLanguage].autoType7, 1);
      }
  });
}

// Cr√©e un observer pour d√©clencher l'animation lorsque l'√©l√©ment entre dans la vue
let options = {
  root: null,
  rootMargin: '0px',
  threshold: 0.5
};

// Fonction d'observation des √©l√©ments
let observer = new IntersectionObserver(function(entries) {
  entries.forEach(entry => {
      if (entry.isIntersecting) {
          resetTypedAnimations(); // D√©marre les animations avec la langue actuelle
          observer.unobserve(entry.target); // Arr√™te d'observer une fois l'animation lanc√©e
      }
  });
}, options);

// S√©lectionne tous les √©l√©ments √† observer
let targets = document.querySelectorAll('.auto-type4, .auto-type5, .auto-type6, .auto-type7');

// Attache l'observer √† chaque √©l√©ment
targets.forEach(target => {
  observer.observe(target);
});



window.onload = function() {
  applyTranslations('fr'); // Par d√©faut fran√ßais
  changeFlag('fr');
  changeLanguageTyped('fr'); // Langue par d√©faut : anglais
  resetTypedAnimations();

  //particules
  initParticles();
  animate();
};
